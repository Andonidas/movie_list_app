{"ast":null,"code":"var _jsxFileName = \"/Users/qiluan/Desktop/scripts/training/last_project/movie_list_app/movie_list/src/components/movieListComponent/layout.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Button from './button';\nimport sampleArray from './sampleArray.json';\nimport MovieCard from '../movie_card/movie_card_container';\nimport getSortFunction from '../utils/sort';\nimport STATUS_TYPE from '../../reducers/statusTypes';\nimport PropTypes from 'prop-types'; // (parent: App) -- blockedMovies --> MovieList \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieList(_ref) {\n  let {\n    movieListData,\n    status,\n    setShowDetail\n  } = _ref;\n  const types = [\"Title\", \"Release Date\", \"Vote Count\", \"Average Score\"];\n  const [sortOption, setSortOption] = useState({\n    type: null,\n    isAscending: false\n  });\n  const likeList = useSelector(state => state.likeBlockLists.likedList);\n  const blockList = useSelector(state => state.likeBlockLists.blockedList);\n  movieListData = movieListData || sampleArray;\n  movieListData.sort(getSortFunction(sortOption));\n  movieListData = movieListData.filter(movie => blockList[movie.id] === undefined); // sort the movie list according to sort option\n  // const result = postsArray\n  // .filter((a,i,b) => b.findIndex((t) => t.moviename === a.moviename) === i)\n  // .reduce((agg, item, index) => {\n  //   item.id = index + 1;\n  //   agg.push(item);\n  //   return agg;\n  // }, []);\n  // console.log(result);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      types: types,\n      sortOption: sortOption,\n      setSortOption: setSortOption\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"moviecard-containerr\",\n      children: status === STATUS_TYPE.success ? movieListData.length === 0 ? 'All Movies on This Page Are Blocked!' : movieListData.map(movie => /*#__PURE__*/_jsxDEV(MovieCard, {\n        title: movie.title,\n        movieId: parseInt(movie.id),\n        posterPath: movie.poster_path,\n        releaseDate: movie.release_date,\n        voteCount: movie.vote_count,\n        score: movie.vote_average,\n        description: movie.overview,\n        like: !!likeList[movie.id],\n        block: !!blockList[movie.id],\n        isIndexPage: true,\n        imgClickHandler: () => setShowDetail({\n          show: true,\n          movieID: parseInt(movie.id)\n        })\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }, this)) : 'Loading'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\nMovieList.propTypes = {\n  movieListData: PropTypes.array,\n  status: PropTypes.string,\n  setShowDetail: PropTypes.func\n};\nexport default MovieList;","map":{"version":3,"names":["React","useState","useSelector","Button","sampleArray","MovieCard","getSortFunction","STATUS_TYPE","PropTypes","MovieList","movieListData","status","setShowDetail","types","sortOption","setSortOption","type","isAscending","likeList","state","likeBlockLists","likedList","blockList","blockedList","sort","filter","movie","id","undefined","success","length","map","title","parseInt","poster_path","release_date","vote_count","vote_average","overview","show","movieID","propTypes","array","string","func"],"sources":["/Users/qiluan/Desktop/scripts/training/last_project/movie_list_app/movie_list/src/components/movieListComponent/layout.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Button from './button';\nimport sampleArray from './sampleArray.json';\nimport MovieCard from '../movie_card/movie_card_container';\nimport getSortFunction from '../utils/sort';\nimport STATUS_TYPE from '../../reducers/statusTypes';\nimport PropTypes from 'prop-types';\n// (parent: App) -- blockedMovies --> MovieList \n\nfunction MovieList({ movieListData, status, setShowDetail}) {\n  const types = [\"Title\", \"Release Date\", \"Vote Count\", \"Average Score\"];\n  const [sortOption, setSortOption] = useState({type: null, isAscending: false});\n  const likeList = useSelector((state) => state.likeBlockLists.likedList);\n  const blockList = useSelector((state) => state.likeBlockLists.blockedList);\n  movieListData = movieListData || sampleArray;\n  movieListData.sort(getSortFunction(sortOption));\n  movieListData = movieListData.filter(movie => blockList[movie.id] === undefined); // sort the movie list according to sort option\n  // const result = postsArray\n  // .filter((a,i,b) => b.findIndex((t) => t.moviename === a.moviename) === i)\n  // .reduce((agg, item, index) => {\n  //   item.id = index + 1;\n  //   agg.push(item);\n  //   return agg;\n  // }, []);\n  // console.log(result);\n  return (\n    <div>\n      <Button types={types} sortOption={sortOption} setSortOption = {setSortOption}/>\n      <div id=\"moviecard-containerr\">\n        {\n          status === STATUS_TYPE.success\n          ?\n            movieListData.length === 0\n            ?'All Movies on This Page Are Blocked!'\n            :movieListData.map(movie => \n              <MovieCard\n                key={movie.id}\n                title={movie.title}\n                movieId={parseInt(movie.id)}\n                posterPath={movie.poster_path}\n                releaseDate={movie.release_date}\n                voteCount={movie.vote_count}\n                score={movie.vote_average}\n                description={movie.overview}\n                like={!!likeList[movie.id]}\n                block={!!blockList[movie.id]}\n                isIndexPage={true}\n                imgClickHandler={()=>setShowDetail({show:true, movieID: parseInt(movie.id)})}\n              />)\n          :'Loading'\n        }\n      </div>\n    </div>\n  )\n}\n\nMovieList.propTypes = {\n  movieListData: PropTypes.array,\n  status: PropTypes.string, \n  setShowDetail: PropTypes.func,\n};\n\nexport default MovieList;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AACA,OAAOC,eAAP,MAA4B,eAA5B;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CACA;;;;AAEA,SAASC,SAAT,OAA4D;EAAA,IAAzC;IAAEC,aAAF;IAAiBC,MAAjB;IAAyBC;EAAzB,CAAyC;EAC1D,MAAMC,KAAK,GAAG,CAAC,OAAD,EAAU,cAAV,EAA0B,YAA1B,EAAwC,eAAxC,CAAd;EACA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC;IAACe,IAAI,EAAE,IAAP;IAAaC,WAAW,EAAE;EAA1B,CAAD,CAA5C;EACA,MAAMC,QAAQ,GAAGhB,WAAW,CAAEiB,KAAD,IAAWA,KAAK,CAACC,cAAN,CAAqBC,SAAjC,CAA5B;EACA,MAAMC,SAAS,GAAGpB,WAAW,CAAEiB,KAAD,IAAWA,KAAK,CAACC,cAAN,CAAqBG,WAAjC,CAA7B;EACAb,aAAa,GAAGA,aAAa,IAAIN,WAAjC;EACAM,aAAa,CAACc,IAAd,CAAmBlB,eAAe,CAACQ,UAAD,CAAlC;EACAJ,aAAa,GAAGA,aAAa,CAACe,MAAd,CAAqBC,KAAK,IAAIJ,SAAS,CAACI,KAAK,CAACC,EAAP,CAAT,KAAwBC,SAAtD,CAAhB,CAP0D,CAOwB;EAClF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EACA,oBACE;IAAA,wBACE,QAAC,MAAD;MAAQ,KAAK,EAAEf,KAAf;MAAsB,UAAU,EAAEC,UAAlC;MAA8C,aAAa,EAAIC;IAA/D;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,EAAE,EAAC,sBAAR;MAAA,UAEIJ,MAAM,KAAKJ,WAAW,CAACsB,OAAvB,GAEEnB,aAAa,CAACoB,MAAd,KAAyB,CAAzB,GACC,sCADD,GAECpB,aAAa,CAACqB,GAAd,CAAkBL,KAAK,iBACtB,QAAC,SAAD;QAEE,KAAK,EAAEA,KAAK,CAACM,KAFf;QAGE,OAAO,EAAEC,QAAQ,CAACP,KAAK,CAACC,EAAP,CAHnB;QAIE,UAAU,EAAED,KAAK,CAACQ,WAJpB;QAKE,WAAW,EAAER,KAAK,CAACS,YALrB;QAME,SAAS,EAAET,KAAK,CAACU,UANnB;QAOE,KAAK,EAAEV,KAAK,CAACW,YAPf;QAQE,WAAW,EAAEX,KAAK,CAACY,QARrB;QASE,IAAI,EAAE,CAAC,CAACpB,QAAQ,CAACQ,KAAK,CAACC,EAAP,CATlB;QAUE,KAAK,EAAE,CAAC,CAACL,SAAS,CAACI,KAAK,CAACC,EAAP,CAVpB;QAWE,WAAW,EAAE,IAXf;QAYE,eAAe,EAAE,MAAIf,aAAa,CAAC;UAAC2B,IAAI,EAAC,IAAN;UAAYC,OAAO,EAAEP,QAAQ,CAACP,KAAK,CAACC,EAAP;QAA7B,CAAD;MAZpC,GACOD,KAAK,CAACC,EADb;QAAA;QAAA;QAAA;MAAA,QADD,CAJH,GAmBC;IArBL;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6BD;;AAEDlB,SAAS,CAACgC,SAAV,GAAsB;EACpB/B,aAAa,EAAEF,SAAS,CAACkC,KADL;EAEpB/B,MAAM,EAAEH,SAAS,CAACmC,MAFE;EAGpB/B,aAAa,EAAEJ,SAAS,CAACoC;AAHL,CAAtB;AAMA,eAAenC,SAAf"},"metadata":{},"sourceType":"module"}